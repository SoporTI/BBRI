> [!TIP]  
> [Ver video](https://youtu.be/Ombo0tQXi1o)

Hasta aquí, nos centramos principalmente en TCP, que es un protocolo orientado a la conexión. Un protocolo orientado a la conexión es uno que establece una conexión y se asegura de que todos los datos se hayan transmitido correctamente. Una conexión en la capa de transporte implica el reconocimiento de cada segmento de datos enviado. Así, ambos extremos de la conexión siempre saben qué bits de datos se entregaron sin duda alguna al otro lado, y qué bits no.

Los protocolos orientados a la conexión son importantes porque Internet es un lugar vasto y con mucho tráfico y muchas cosas podrían salir mal al intentar enviar datos del punto A al punto B. Quizás recuerdes de nuestra lección sobre la capa física que incluso la mínima diafonía proveniente de un par trenzado vecino en el mismo cable puede ser suficiente para que una verificación por redundancia cíclica falle. Esto podría hacer que se descarte toda la trama. Uf... Con que un solo bit no se transmita correctamente, los datos resultantes a menudo resultan incomprensibles para el lado receptor. Y recuerda que, en el nivel más bajo, un bit es solo una señal eléctrica dentro de un cierto rango de voltaje.

Pero hay muchas otras razones por las que el tráfico podría no llegar a su destino más allá del revestimiento de un cable. Podría ser cualquier cosa. La congestión pura podría hacer que un router descarte tu tráfico para reenviar tráfico más importante, o una empresa de construcción podría cortar un cable de fibra que conecta dos ISP. Todo es posible.

Los protocolos orientados a la conexión, como TCP, nos protegen de esto formando conexiones y mediante el flujo constante de acuses de recibo. Nuestros protocolos en los niveles más bajos de nuestro modelo de red, como IP y Ethernet, usan sumas de verificación para asegurarse de que todos los datos recibidos sean correctos. Pero ¿notaste que nunca hablamos de algún intento de reenviar datos que no pasen esta verificación? Eso depende por completo del protocolo de la capa de transporte. A nivel de IP o Ethernet, si una suma de verificación no concuerda, todos esos datos simplemente se descartan. Depende de TCP determinar cuándo reenviar estos datos, ya que como TCP espera un ACK por cada bit de datos que envía, está en la mejor posición para saber qué datos se entregaron con éxito y puede tomar la decisión de reenviar un segmento si es necesario.

Esta es otra razón por la cual los números de secuencia son tan importantes. Mientras que, por lo general, TCP enviará todos los segmentos en orden secuencial, no siempre pueden llegar en ese orden. Si algunos de los segmentos debieron reenviarse debido a errores en las capas inferiores, no importa si llegan algo desordenados. Esto se debe a que los números de secuencia permiten que todos los datos vuelvan a unirse en el orden correcto. Es bastante práctico.

Ahora, como podrías haber notado, en los protocolos orientados a la conexión como TCP hay mucha sobrecarga. Tienes que establecer la conexión, tienes que enviar una transmisión de flujos constantes de acuses de recibo, tienes que cerrar la conexión al final. Todo eso supone mucho tráfico adicional. Si bien es un tráfico importante, es útil de verdad solo si tienes que estar absolutamente seguro de que tus datos llegan a destino.

Puedes comparar esto con los protocolos sin conexión. El más común de estos se conoce como UDP, o Protocolo de datagramas de usuario. A diferencia de TCP, UDP no confía en las conexiones y ni siquiera admite el concepto de acuse de recibo. Con UDP, apenas estableces un puerto de destino y envías el paquete. Esto es útil para mensajes que no son importantísimos.

Un gran ejemplo de UDP es la transmisión de video. Imaginemos que cada datagrama UDP es un solo cuadro de un video. Para tener la mejor experiencia de visualización, tal vez esperarías que cada uno de los cuadros llegue al espectador, pero no importaría mucho si algunos se pierden en el camino. Un video seguirá dejándose ver a menos que le falten muchos cuadros. Al deshacerte de toda la sobrecarga de TCP, es posible que puedas enviar videos de mayor calidad con UDP. Esto se debe a que ahorrarás más ancho de banda disponible para transferir datos reales en lugar de la sobrecarga que resulta de establecer conexiones y reconocer segmentos de datos entregados.
