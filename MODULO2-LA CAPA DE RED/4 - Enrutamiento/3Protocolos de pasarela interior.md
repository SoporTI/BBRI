> [!TIP]  
> [Ver video](https://youtu.be/QLIa_733iVo)

Ya vimos los fundamentos de cómo funciona el enrutamiento, y cómo se construyen las tablas de enrutamiento. Ambos son conceptos muy básicos. La verdadera magia del enrutamiento está en la forma en que las tablas de enrutamiento siempre se actualizan con nueva información sobre el camino más rápido a las redes de destino.

Los protocolos que estaremos aprendiendo en este video te ayudarán a identificar problemas de enrutamiento en cualquier red a la que debas brindar soporte. Para conocer el mundo que los rodea, los routers usan lo que se conoce como protocolos de enrutamiento. Son protocolos especiales que los routers usan para comunicarse entre sí con el objeto de compartir cualquier información que puedan tener. Así es como un router de un lado del planeta puede finalmente detectar el mejor camino hacia una red del otro lado del planeta.

Los protocolos de enrutamiento se dividen en dos categorías principales: protocolos de puerta de enlace interior y protocolos de puerta de enlace exterior. Los protocolos de puerta de enlace interior se dividen adicionalmente en dos categorías: protocolos de enrutamiento de estado de enlace y protocolos de vector de distancia. En este video veremos los fundamentos de los protocolos de puerta de enlace interior.

Los routers usan los protocolos de puerta de enlace interior para compartir información dentro de un único sistema autónomo. En términos de redes, un sistema autónomo es una colección de redes que están bajo el control de un solo operador de red. El mejor ejemplo de esto sería una gran corporación que necesita enrutar datos entre su gran cantidad de oficinas, cada una de las cuales podría tener su propia red de área local. Otro ejemplo es la gran cantidad de routers que emplea un proveedor de servicios de Internet que suele tener alcance nacional.

Puedes comparar esto con los protocolos de puerta de enlace exterior que se utilizan para el intercambio de información entre sistemas autónomos independientes. Alerta de spoiler: hablaremos de los protocolos de puerta de enlace exterior en un próximo video.

Los dos tipos principales de protocolos de puerta de enlace interior son protocolos de enrutamiento de estado de enlace y protocolos de vector de distancia. Sus objetivos son muy similares, pero los routers que los emplean comparten diferentes tipos de datos para hacer su trabajo.

Los protocolos de vector de distancia son una norma más antigua. Un router que usa un protocolo de vector de distancia básicamente solo toma su tabla de enrutamiento, que es una lista de cada red que conoce y la distancia de esas redes en términos de saltos. Entonces, el router envía esta lista a cada router vecino, que, básicamente, es cada router al que está directamente conectado. En informática, a una lista se la conoce como un vector. Es por esto que a un protocolo que simplemente envía una lista de distancias a redes, se lo conoce como protocolo de vector de distancia.

Con un protocolo de vector de distancia, los routers realmente no saben mucho acerca del estado total de un sistema autónomo. Solo tienen alguna información sobre sus vecinos inmediatos. Para tener una visión básica sobre cómo funcionan los protocolos de vector de distancia, veamos cómo dos routers podrían influir mutuamente en sus tablas de enrutamiento.

El router A tiene una tabla de enrutamiento con un montón de entradas. Una de estas entradas es para la red 10.1.1.0/24, a la que nos referiremos como "red X". El router A cree que el camino más rápido a la red X es a través de su propia interfaz 2, que es donde se conecta el router C. El router A sabe que el envío de datos destinado a la red X a través de la interfaz 2 al router C implica que tomará 4 saltos para llegar al destino.

Mientras tanto, el router B está a sólo dos saltos de la red X y esto se refleja en su tabla de enrutamiento. El router B, mediante un protocolo de vector de distancia, envía los contenidos básicos de su tabla de enrutamiento al router A. El router A ve que la red X está a solo dos saltos del router B. Incluso con el salto extra para llegar del router A al router B, esto significa que la red X está a solo tres saltos de distancia desde el router A si reenvía datos al router B en lugar del router C.

Con esta nueva información, el router A actualiza su tabla de enrutamiento para reflejar esto. Para llegar a la red X de la manera más rápida, debe reenviar el tráfico a través de su propia interfaz 1 al router B.

Ahora, los protocolos de vector de distancia son bastante simples, pero no permiten que un router tenga mucha información sobre el estado del mundo más allá de sus propios vecinos directos. Debido a esto, un router puede tardar en reaccionar a un cambio en la red lejos de su posición. Es por esto que, finalmente, se inventaron los protocolos de estado de enlace.

Los routers que usan un protocolo de estado de enlace tienen un enfoque más sofisticado para determinar el mejor camino hacia una red. Los protocolos de estado de enlace se llaman así porque cada router anuncia el estado del enlace de cada una de sus interfaces. Estas interfaces pueden estar conectadas a otros routers o podrían ser conexiones directas a redes. La información sobre cada router se propaga a cada otro router en el sistema autónomo. Esto implica que cada router en el sistema conoce cada detalle de los demás routers en ese sistema.

Cada router usa este conjunto mucho más grande de información y ejecuta algoritmos complicados contra él para determinar cuál podría ser el mejor camino para cualquier red de destino. Los protocolos de estado de enlace requieren más memoria para guardar todos estos datos y también mucho más poder de procesamiento. Esto es porque tienen que ejecutar algoritmos contra estos datos para determinar el camino más rápido para actualizar las tablas de enrutamiento.

Como el hardware de una computadora se ha vuelto más potente y más económico con el correr de los años, los protocolos de estado de enlace, en su mayoría, lograron que los protocolos de vector de distancia queden desactualizados. A continuación, hablaremos de los protocolos y protocolos de puerta de enlace exterior. Nos vemos.